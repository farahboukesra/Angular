<div class="page-wrapper">
  <div class="main-content">
    <h1 class="page-title">Liste des suggestions</h1>

    <div class="search-bar">
      <input 
        type="text" 
        [(ngModel)]="searchTerm" 
        placeholder="Rechercher une suggestion"
        class="search-input"
      />
    </div>

    <div class="suggestions-list">
      <div *ngFor="let suggestion of getFilteredSuggestions()" class="suggestion-card">
        <h3 class="suggestion-title">{{ suggestion.title }}</h3>
        
        <div class="suggestion-meta">
          <span class="category-badge">{{ suggestion.category }}</span>
          <span class="date-text">{{ suggestion.date | date:'dd MMM yyyy' }}</span>
        </div>

        <p class="suggestion-description">{{ suggestion.description }}</p>

        <span class="status-badge" [ngClass]="{
          'status-acceptee': suggestion.status === 'acceptee',
          'status-refusee': suggestion.status === 'refusee',
          'status-attente': suggestion.status === 'en_attente'
        }">
          {{ suggestion.status === 'acceptee' ? 'ACCEPTÃ‰E' : 
             suggestion.status === 'refusee' ? 'REFUSÃ‰E' : 'EN ATTENTE' }}
        </span>

        <div class="actions" *ngIf="suggestion.status !== 'refusee'">
          <button class="btn-like" (click)="incrementLikes(suggestion)">
            ğŸ‘ Like {{ suggestion.nbLikes }}
          </button>
          
          <button 
            class="btn-favorite" 
            [class.btn-favorite-active]="isFavorite(suggestion)"
            (click)="addToFavorites(suggestion)">
            <ng-container *ngIf="isFavorite(suggestion); else notFavorite">
              â­ Dans les favoris
            </ng-container>
            <ng-template #notFavorite>
              ğŸ¤ Ajouter aux favoris
            </ng-template>
          </button>

          <button 
            class="btn-details" 
            [routerLink]="['/suggestions', suggestion.id]">
            ğŸ“„ DÃ©tails
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="sidebar-favorites">
    <h2 class="favorites-title">â­ Mes Favoris</h2>
    
    <div *ngIf="favorites.length === 0" class="empty-favorites">
      <p>Aucun favori pour le moment</p>
      <p style="font-size: 3rem;">ğŸ¤</p>
    </div>

    <div class="favorites-list">
      <div *ngFor="let fav of favorites" class="favorite-item">
        <div class="favorite-header">
          <h4>{{ fav.title }}</h4>
          <button class="btn-remove" (click)="addToFavorites(fav)" title="Retirer des favoris">
            âœ–
          </button>
        </div>
        <p class="favorite-category">{{ fav.category }}</p>
        <p class="favorite-likes">ğŸ‘ {{ fav.nbLikes }} likes</p>
      </div>
    </div>
  </div>
</div>